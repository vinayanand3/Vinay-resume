import{R as j,j as e}from"./index-D-0_EACA.js";import{r as c}from"./react-wGySg1uH.js";import"./icons-B0Fw02iq.js";const A=()=>{const[x,E]=c.useState(!1),[f,h]=c.useState(null);c.useEffect(()=>{const s=setTimeout(()=>E(!0),500);return()=>clearTimeout(s)},[]);const{events:u,startYear:b,totalDuration:v}=c.useMemo(()=>{const s=j.education.map(t=>({id:t.id,type:"education",period:t.period,title:t.degree,subtitle:t.institution})),n=j.experience.map(t=>({id:t.id,type:"experience",period:t.period,title:t.role,subtitle:t.company})),m=[...s,...n].map(t=>{const r=t.period.match(/\d{4}/),i=r?parseInt(r[0],10):0;return{...t,year:i}}).sort((t,r)=>t.year-r.year).filter(t=>t.year>0),d=2004,l=new Date().getFullYear(),a=Math.max(1,l-d);return{events:m,startYear:d,totalDuration:a}},[]),g=s=>(s-b)/v*100,w=c.useMemo(()=>Array.from(new Set(u.map(n=>n.year))).sort((n,o)=>n-o),[u]),N=c.useMemo(()=>{const s=new Map;u.forEach(a=>{const t=s.get(a.year)??[];t.push(a),s.set(a.year,t)});const n=[],o=22,m=12,d=88,l=(a,t)=>{if(a.type!==t.type)return a.type==="education"?-1:1;const r=`${a.subtitle} ${a.title}`,i=`${t.subtitle} ${t.title}`;return r.localeCompare(i)};return Array.from(s.entries()).sort((a,t)=>a[0]-t[0]).forEach(([a,t])=>{const r=[...t].sort(l),i=g(a),p=i<m?"left":i>d?"right":"center",z=(r.length-1)/2;r.forEach(($,M)=>{const Y=(M-z)*o;n.push({event:$,position:i,stackOffsetY:Y,tooltipAlign:p,animDelayMs:n.length*150})})}),n},[u,b,v]);return e.jsxs("div",{className:"w-full mt-10 mb-8 opacity-0 animate-fade-in overflow-visible",style:{animationFillMode:"forwards"},children:[e.jsx("div",{className:"relative h-4 mb-3",children:w.map(s=>{const o=`clamp(10px, ${g(s)}%, calc(100% - 10px))`;return e.jsx("div",{className:"absolute -translate-x-1/2 whitespace-nowrap text-[10px] uppercase tracking-wider text-zinc-600 font-mono",style:{left:o},children:s},s)})}),e.jsxs("div",{className:"relative w-full h-12 flex items-center group/timeline",children:[e.jsx("div",{className:"absolute left-0 right-0 h-0.5 bg-zinc-800 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-zinc-700 via-indigo-500 to-accent transition-all duration-[2000ms] ease-out rounded-full",style:{width:x?"100%":"0%"}})}),N.map((s,n)=>{const{event:o,position:m,stackOffsetY:d,tooltipAlign:l,animDelayMs:a}=s,t=`clamp(6px, ${m}%, calc(100% - 6px))`,r=f===n,i=o.type==="education",p=l==="left"?"left-1/2 translate-x-0":l==="right"?"left-1/2 -translate-x-full":"left-1/2 -translate-x-1/2",y=l==="left"?"left-0 -translate-x-1/2":l==="right"?"right-0 translate-x-1/2 left-auto":"left-1/2 -translate-x-1/2";return e.jsxs("div",{className:"absolute",style:{left:t,top:"50%",transform:`translate(-50%, -50%) translateY(${d}px)`},onMouseEnter:()=>h(n),onMouseLeave:()=>h(null),children:[e.jsx("div",{className:"absolute inset-0 -m-2","aria-hidden":"true"}),e.jsx("div",{className:`w-3 h-3 rounded-full border-2 transition-all duration-300 z-10 relative cursor-pointer
                  ${x?"scale-100 opacity-100":"scale-0 opacity-0"}
                  ${r?i?"bg-emerald-400 border-emerald-400 scale-125":"bg-accent border-accent scale-125":i?"bg-zinc-900 border-emerald-500/50":"bg-zinc-900 border-indigo-500/50"}
                  ${!r&&f!==null?"opacity-50":"opacity-100"}
                `,style:{transitionDelay:`${a}ms`}}),e.jsxs("div",{className:`absolute bottom-full mb-3 ${p} w-max max-w-[220px] 
                  px-3 py-2 bg-zinc-900 text-zinc-200 text-xs rounded-lg border border-zinc-800 shadow-xl
                  transition-all duration-200 z-50 pointer-events-none origin-bottom
                  ${r?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-2"}
                `,children:[e.jsx("div",{className:`font-bold mb-0.5 ${i?"text-emerald-400":"text-accent"}`,children:o.year}),e.jsx("div",{className:"font-semibold truncate text-zinc-100",children:o.subtitle}),e.jsx("div",{className:"text-zinc-400 text-[10px] leading-tight mt-0.5",children:o.title}),e.jsx("div",{className:`absolute top-full ${y} -mt-px border-4 border-transparent border-t-zinc-800`})]})]},o.id)})]}),e.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-medium text-zinc-500 mt-[-5px]",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-indigo-500/50 bg-zinc-900"}),e.jsx("span",{children:"Experience"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full border border-emerald-500/50 bg-zinc-900"}),e.jsx("span",{children:"Education"})]})]})]})},P=c.memo(A);export{P as default};
